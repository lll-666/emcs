<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.emcs.mapper.OneTableDMLMapper" >
    <insert id="insertVaPlatInfo" parameterType="hashMap" >
        insert into va_plat_info
        (
        plat_id,pay_merch_id,plat_name,
        legal_person,status,payment_type,
        global_type,global_id,tel_no,
        email,adress,url,create_date,
        create_user,update_date,update_user,
        cancel_date,cancel_user,effect_date,
        source_type,remark,plat_type,
        plat_level,allow_user,allow_date,allow_status
        )
        values
        (
        #{plat_id},#{pay_merch_id},#{plat_name},
        #{legal_person},#{status},#{payment_type},
        #{global_type},#{global_id},#{tel_no},
        #{email},#{adress},#{url},
        #{create_date},#{create_user},
        #{update_date},#{update_user},
        #{cancel_date},#{cancel_user},
        #{effect_date},#{source_type},
        #{remark},#{plat_type},
        #{plat_level},#{allow_user},
        #{allow_date},#{allow_status}
        )
    </insert>
    <insert id="insertVaPlatVirtualAcctBal" parameterType="hashMap">
        insert into va_plat_virtual_acct_bal
        (
        vir_acct_id,
        vir_acct_type,
        plat_id,
        actural_bal,
        usable_bal,
        freeze_bal,
        recharge_bal
        )
        values
        (
        #{vir_acct_id},
        #{vir_acct_type},
        #{plat_id},
        #{actural_bal},
        #{usable_bal},
        #{freeze_bal},
        #{recharge_bal}
        )
    </insert>

    <insert id="insertVaPlatVirtualAcct" parameterType="hashMap">
        insert into va_plat_virtual_acct
        (
        vir_acct_id,plat_id,
        vir_acct_type,vir_acct_sort,
        vir_acct_name,currency,
        acct_status,rel_bank_acct,
        is_in,is_out,is_total_limit,
        total_limit,is_balance_limit,
        balance_type,balance_value,
        open_date,open_user,
        cancel_date,update_date,
        source_user,effect_date,plat_name
        )
        values
        (
        #{vir_acct_id},#{plat_id},
        #{vir_acct_type},#{vir_acct_sort},
        #{vir_acct_name},#{currency},
        #{acct_status},#{rel_bank_acct},
        #{is_in},#{is_out},#{is_total_limit},
        #{total_limit},#{is_balance_limit},
        #{balance_type},#{balance_value},
        #{open_date},#{open_user},
        #{cancel_date},#{update_date},
        #{source_user},#{effect_date},#{plat_name}
        )
    </insert>

    <insert id="insertVaPlatAccInfo" parameterType="hashMap">
        insert into va_plat_acct_info
        (
        acct_id,plat_id,acct_type,
        acct_no,acct_name,is_this_bank,
        acct_br_no,acct_br_name,currency,
        update_date,update_user,acct_status,acct_category
        )
        values
        (
        #{acct_id},#{plat_id},#{acct_type},
        #{acct_no},#{acct_name},#{is_this_bank},
        #{acct_br_no},#{acct_br_name},#{currency},
        #{update_date},#{update_user},#{acct_status},#{acct_category}
        )
    </insert>

    <insert id="insertVaMerchInfo" parameterType="hashMap" >
        insert into va_merch_info
        (
        merch_id,merch_name,pay_merch_id,plat_id,
        legal_person,status,payment_type,
        global_type,global_id,tel_no,
        email,adress,url,create_date,
        create_user,update_date,update_user,
        cancel_date,cancel_user,effect_date,
        source_type,remark,merch_type,
        merch_level,allow_user,allow_date,allow_status
        )
        values
        (
        #{merch_id},#{merch_name},#{pay_merch_id},#{plat_id},
        #{legal_person},#{status},#{payment_type},
        #{global_type},#{global_id},#{tel_no},
        #{email},#{adress},#{url},
        #{create_date},#{create_user},
        #{update_date},#{update_user},
        #{cancel_date},#{cancel_user},
        #{effect_date},#{source_type},
        #{remark},#{merch_type},
        #{merch_level},#{allow_user},
        #{allow_date},#{allow_status}
        )
    </insert>

    <insert id="insertVaMerchAccInfo" parameterType="hashMap">
        insert into va_merch_acct_info
        (
        acct_id,merch_id,acct_type,
        acct_no,acct_name,is_this_bank,
        acct_br_no,acct_br_name,currency,
        update_date,update_user,acct_status,acct_category
        )
        values
        (
        #{acct_id},#{merch_id},#{acct_type},
        #{acct_no},#{acct_name},#{is_this_bank},
        #{acct_br_no},#{acct_br_name},#{currency},
        #{update_date},#{update_user},#{acct_status},#{acct_category}
        )
    </insert>

    <insert id="insertVaMerchVirtualAcctBal" parameterType="hashMap">
        insert into va_merch_virtual_acct_bal
        (
        vir_acct_id,
        vir_acct_type,
        merch_id,
        actural_bal,
        usable_bal,
        freeze_bal,
        recharge_bal
        )
        values
        (
        #{vir_acct_id},
        #{vir_acct_type},
        #{merch_id},
        #{actural_bal},
        #{usable_bal},
        #{freeze_bal},
        #{recharge_bal}
        )
    </insert>

    <insert id="insertVaMerchVirtualAcct" parameterType="hashMap">
        insert into va_merch_virtual_acct
        (
        vir_acct_id,merch_id,plat_id,
        vir_acct_type,vir_acct_sort,
        vir_acct_name,currency,
        acct_status,rel_bank_acct,
        is_in,is_out,is_total_limit,
        total_limit,is_balance_limit,
        balance_type,balance_value,
        open_date,open_user,
        cancel_date,update_date,
        source_user,effect_date,merch_name
        )
        values
        (
        #{vir_acct_id},#{merch_id},#{plat_id},
        #{vir_acct_type},#{vir_acct_sort},
        #{vir_acct_name},#{currency},
        #{acct_status},#{rel_bank_acct},
        #{is_in},#{is_out},#{is_total_limit},
        #{total_limit},#{is_balance_limit},
        #{balance_type},#{balance_value},
        #{open_date},#{open_user},
        #{cancel_date},#{update_date},
        #{source_user},#{effect_date},#{merch_name}
        )
    </insert>

    <insert id="insertVaCustInfo" parameterType="hashMap" >
        insert into va_cust_info
        (
        cust_id,cust_name,plat_id,user_id,
        status,
        global_type,global_id,tel_no,
        email,adress,create_date,
        create_user,update_date,update_user,
        cancel_date,cancel_user,effect_date,
        source_type,remark,cust_type,
        cust_level,allow_user,allow_date,allow_status
        )
        values
        (
        #{cust_id},#{cust_name},#{plat_id},#{user_id},
        #{status},
        #{global_type},#{global_id},#{tel_no},
        #{email},#{adress},
        #{create_date},#{create_user},
        #{update_date},#{update_user},
        #{cancel_date},#{cancel_user},
        #{effect_date},#{source_type},
        #{remark},#{cust_type},
        #{cust_level},#{allow_user},
        #{allow_date},#{allow_status}
        )
    </insert>

    <insert id="insertVaCustAccInfo" parameterType="hashMap">
        insert into va_cust_acct_info
        (
        acct_id,cust_id,acct_type,
        acct_no,acct_name,is_this_bank,
        acct_br_no,acct_br_name,currency,
        update_date,update_user,acct_status,acct_category
        )
        values
        (
        #{acct_id},#{cust_id},#{acct_type},
        #{acct_no},#{acct_name},#{is_this_bank},
        #{acct_br_no},#{acct_br_name},#{currency},
        #{update_date},#{update_user},#{acct_status},#{acct_category}
        )
    </insert>

    <insert id="insertVaCustVirtualAcctBal" parameterType="hashMap">
        insert into va_cust_virtual_acct_bal
        (
        vir_acct_id,
        vir_acct_type,
        cust_id,
        actural_bal,
        usable_bal,
        freeze_bal,
        recharge_bal
        )
        values
        (
        #{vir_acct_id},
        #{vir_acct_type},
        #{cust_id},
        #{actural_bal},
        #{usable_bal},
        #{freeze_bal},
        #{recharge_bal}
        )
    </insert>

    <insert id="insertVaCustVirtualAcct" parameterType="hashMap">
        insert into va_cust_virtual_acct
        (
        vir_acct_id,cust_id,plat_id,
        vir_acct_type,vir_acct_sort,
        vir_acct_name,user_id,currency,
        acct_status,rel_bank_acct,
        is_in,is_out,is_total_limit,
        total_limit,is_balance_limit,
        balance_type,balance_value,
        open_date,open_user,
        cancel_date,update_date,
        source_user,effect_date,cust_name
        )
        values
        (
        #{vir_acct_id},#{cust_id},#{plat_id},
        #{vir_acct_type},#{vir_acct_sort},
        #{vir_acct_name},#{user_id},#{currency},
        #{acct_status},#{rel_bank_acct},
        #{is_in},#{is_out},#{is_total_limit},
        #{total_limit},#{is_balance_limit},
        #{balance_type},#{balance_value},
        #{open_date},#{open_user},
        #{cancel_date},#{update_date},
        #{source_user},#{effect_date},#{cust_name}
        )
    </insert>

    <insert id="insertCmTranSeq" parameterType="hashMap">
        insert into cm_tran_seq
        (
        tran_seq,tran_date,tran_time,
        sys_date,channel_code,
        source_type,tran_type,business_code,
        user_id,plat_id,
        merch_id,cust_id,acct_no,
        currency,tran_amt,
        branch_id,msg_type,
        msg_code,tran_status,
        ret_code,resp_code,
        fail_reason
        )
        values
        (
        #{tran_seq},#{tran_date},#{tran_time},
        #{sys_date},#{channel_code},
        #{source_type},#{tran_type},#{business_code},
        #{user_id},#{plat_id},
        #{merch_id},#{cust_id},#{acct_no},
        #{currency},#{tran_amt},
        #{branch_id},#{msg_type},
        #{msg_code},#{tran_status},
        #{ret_code},#{resp_code},
        #{fail_reason}
        )
    </insert>
    <insert id="insertCmAcctTranSeq" parameterType="hashMap">
        insert into cm_acct_tran_seq (
            tran_seq_no,tran_date,tran_time,curreny,tran_amt,tran_type,business_code,
            business_name,order_no,order_no_old,ref_no,merch_id,merch_name,cust_id,
            cust_name,payer_name,payer_vir_acct_no,payee_name,payee_vir_acct_no,plat_id,
            plat_name,payer_acct_no,payer_acct_name,payer_acct_sort,payer_is_this_bank,
            payer_acct_bank_no,payer_acct_bank_name,payee_acct_no,payee_acct_name,
            payee_acct_sort,payee_is_this_bank,payee_acct_bank_no,payee_acct_bank_name,
            tran_status,ret_code,ret_msg,host_seq_no,host_tran_status,is_check,is_recover,
            reversed,oper_time,user_id,contrast,refund_status
            ) values (
            #{tran_seq_no},#{tran_date},#{tran_time},#{curreny},#{tran_amt},#{tran_type},#{business_code},
            #{business_name},#{order_no},#{order_no_old},#{ref_no},#{merch_id},#{merch_name},#{cust_id},
            #{cust_name},#{payer_name},#{payer_vir_acct_no},#{payee_name},#{payee_vir_acct_no},#{plat_id},
            #{plat_name},#{payer_acct_no},#{payer_acct_name},#{payer_acct_sort},#{payer_is_this_bank},
            #{payer_acct_bank_no},#{payer_acct_bank_name},#{payee_acct_no},#{payee_acct_name},
            #{payee_acct_sort},#{payee_is_this_bank},#{payee_acct_bank_no},#{payee_acct_bank_name},
            #{tran_status},#{ret_code},#{ret_msg},#{host_seq_no},#{host_tran_status},#{is_check},#{is_recover},
            #{reversed},#{oper_time},#{user_id},#{contrast},#{refund_status})
    </insert>

    <update id="updateCmAcctTranSeq" parameterType="hashMap">
        update cm_acct_tran_seq set
            tran_status= #{tran_status},ret_code=#{ret_code},
            ret_msg=#{ret_msg},is_check=#{is_check},is_recover=#{is_recover},
            reversed= #{reversed},contrast=#{contrast},refund_status=#{refund_status}
        <trim prefix="where" prefixOverrides="and">
            <if test="tran_date !=null and tran_date!='' ">and tran_date=#{tran_date}</if>
            <if test="tran_type !=null and tran_type!='' ">and tran_type=#{tran_type}</if>
            <if test="tran_amt !=null and tran_amt!='' "> and tran_amt=#{tran_amt}</if>
            <if test="payer_acct_no !=null and payer_acct_no!='' "> and payer_acct_no=#{payer_acct_no}</if>
            <if test="tran_seq_no !=null and tran_seq_no!='' ">and tran_seq_no=#{tran_seq_no}</if>
        </trim>
    </update>

</mapper>